class Solution {
    public List<List<Integer>> combinationSum2(int[] candidates, int target) {
        List<List<Integer>> result = new ArrayList<>();

        Arrays.sort(candidates);
        test(candidates,0,target,result,new ArrayList<Integer>());

        return result;
    }

    public void test(int[] nums
                    , int idx
                    , int left
                    , List<List<Integer>> result
                    , List<Integer> list){
        
        if(left == 0){
            result.add(new ArrayList(list));
            return;
        }else if(left < 0 || idx == nums.length){
            return;
        }


        list.add(nums[idx]);
        test(nums, idx+1, left-nums[idx], result, list);
        list.remove(list.size()-1);

        while(idx+1 < nums.length && nums[idx] == nums[idx+1]) idx++;

        test(nums, idx+1, left, result, list);
        
    }
}
